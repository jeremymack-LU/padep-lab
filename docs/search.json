[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Overview",
    "section": "",
    "text": "PM2.5 describes fine inhalable particles, with diameters that are generally 2.5 micrometers and smaller. The following script summarizes the relationship between wind speed and PM2.5. Data were collected by PA DEP at their Freemansburg site and can be accessed here."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "The following site contains script that summarizes the relationship between wind speed and PM2.5. Data were collected by PA DEP at their Freemansburg site and can be accessed here."
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "PA DEP data",
    "section": "",
    "text": "Explore data:\n\n\n# View the wind dataset in a spreadsheet-style view\nView(wind)\n     \n# Check the structure of the wind dataset\nstr(wind)\n\n# Quick summary of the wind dataset\nsummary(wind)\n\n\n# Subset data and create a date variable\nwind.avg <- wind %>%\n  select(Day,Avg,Month) %>%\n  mutate(Year=str_sub(Month,-4),\n         Month=str_sub(Month,1,nchar(Month)-5),\n         Date=as.Date(paste(Year,Month,Day,sep='-'))) %>%\n  arrange(Date) %>%\n  rename(avg_wind=Avg) %>%\n  select(Date,avg_wind)\n\npm25.avg <- pm25 %>%\n  select(Day,Avg,Month) %>%\n  mutate(Year=str_sub(Month,-4),\n         Month=str_sub(Month,1,nchar(Month)-5),\n         Date=as.Date(paste(Year,Month,Day,sep='-'))) %>%\n  arrange(Date) %>%\n  rename(avg_pm25=Avg) %>% \n  select(Date,avg_pm25)\n\n# Join wind and PM2.5 datasets together\ndep.data <- pm25.avg %>%\n  left_join(wind.avg, by='Date')\n\n# Quick summary of the joined dataset\nsummary(dep.data)\n\n      Date               avg_pm25        avg_wind     \n Min.   :2012-08-03   Min.   : -1.6   Min.   : 0.000  \n 1st Qu.:2015-02-15   1st Qu.:  6.2   1st Qu.: 1.900  \n Median :2017-09-11   Median :  9.1   Median : 3.200  \n Mean   :2017-09-10   Mean   : 10.6   Mean   : 3.665  \n 3rd Qu.:2020-03-04   3rd Qu.: 13.2   3rd Qu.: 4.800  \n Max.   :2022-10-13   Max.   :166.6   Max.   :31.200  \n                      NA's   :4       NA's   :69      \n\n\n\n# Inspect data for outliers\nboxplot(dep.data$avg_pm25)\nboxplot(dep.data$avg_wind)\n\n# Remove extreme outliers\ndep.data <- dep.data %>% \n  drop_na() %>% \n  filter(avg_wind < 30) %>%\n  filter(between(avg_pm25, 0, 50))\n  #filter(avg_pm25 <= 50 & avg_pm25 > 0)"
  },
  {
    "objectID": "visualizations.html",
    "href": "visualizations.html",
    "title": "Data visualization",
    "section": "",
    "text": "Linear model fit:\n\n\n# Fit a linear model to the data\nlm.fit   <- lm(Tavg_pm25~Tavg_wind,data=dep.data)\n\n# Extract fitted values from segment analysis\nlm.fit.df   <- fitted(lm.fit)\n\n# Create dataset with wind and fitted PM2.5 data\nlm.model.df <- data.frame(Tavg_wind=dep.data$Tavg_wind,\n                          fit_pm25=lm.fit.df)\n\n# Plot relationship between wind and PM2.5 after transforming data\n# and add the linear model fit\ndep.data %>%\n  ggplot(aes(Tavg_wind,Tavg_pm25)) +\n  geom_point(size=0.25,alpha=0.5) +\n  geom_line(data=lm.model.df,\n            aes(x=Tavg_wind, y=fit_pm25),\n            size=0.5) +\n  theme_minimal() +\n  labs(x='Avg. wind (log-transformed)',\n       y='Avg. PM 2.5 (log-transformed)')\n\n\n\n\n\n\nSegmented model fit:\n\n\n# Break point analysis\nseg.fit  <- segmented(lm.fit)\n\n# Extract fitted values from segment analysis\nseg.fit.df   <- fitted(seg.fit)\n\n# Create dataset with wind and fitted PM2.5 data\nseg.model.df <- data.frame(Tavg_wind=dep.data$Tavg_wind,\n                           fit_pm25=seg.fit.df)\n\n# Plot relationship between wind and PM2.5 after transforming data\n# and add the segmented model fit\ndep.data %>%\n  ggplot(aes(Tavg_wind,Tavg_pm25)) +\n  geom_point(size=0.25,alpha=0.5) +\n  geom_line(data=seg.model.df,\n            aes(x=Tavg_wind, y=fit_pm25),\n            size=0.5) +\n  theme_minimal() +\n  labs(x='Avg. wind (log-transformed)',\n       y='Avg. PM 2.5 (log-transformed)')"
  },
  {
    "objectID": "backup.html",
    "href": "backup.html",
    "title": "Overview",
    "section": "",
    "text": "Import PA DEP datasets:\n\n# Install and load required packages\ninstall.packages('pacman')\npacman::p_load(segmented,tidyverse)\n\n# Download wind and PM2.5 data\nurl1 <- 'https://www.dropbox.com/s/djsrnlou8gfd9h6/pa_dep_wind.csv?dl=1'\nurl2 <- 'https://www.dropbox.com/s/f60llaltcclen47/pa_dep_pm25.csv?dl=1'\n\nwind <- read_csv(url1)\npm25 <- read_csv(url2)\n\n\n# View the wind dataset in a spreadsheet-style view\nView(wind)\n     \n# Check the structure of the wind dataset\nstr(wind)\n\n# Quick summary of the wind dataset\nsummary(wind)\n\n\n# Subset data and create a date variable\nwind.avg <- wind %>%\n  select(Day,Avg,Month) %>%\n  mutate(Year=str_sub(Month,-4),\n         Month=str_sub(Month,1,nchar(Month)-5),\n         Date=as.Date(paste(Year,Month,Day,sep='-'))) %>%\n  arrange(Date) %>%\n  rename(avg_wind=Avg) %>%\n  select(Date,avg_wind)\n\npm25.avg <- pm25 %>%\n  select(Day,Avg,Month) %>%\n  mutate(Year=str_sub(Month,-4),\n         Month=str_sub(Month,1,nchar(Month)-5),\n         Date=as.Date(paste(Year,Month,Day,sep='-'))) %>%\n  arrange(Date) %>%\n  rename(avg_pm25=Avg) %>% \n  select(Date,avg_pm25)\n\n# Join wind and PM2.5 datasets together\ndep.data <- pm25.avg %>%\n  left_join(wind.avg, by='Date')\n\nsummary(dep.data)\n\n      Date               avg_pm25         avg_wind    \n Min.   :2012-08-03   Min.   : -1.60   Min.   : 0.00  \n 1st Qu.:2015-02-11   1st Qu.:  6.20   1st Qu.: 1.90  \n Median :2017-09-03   Median :  9.10   Median : 3.10  \n Mean   :2017-09-01   Mean   : 10.62   Mean   : 3.66  \n 3rd Qu.:2020-02-21   3rd Qu.: 13.20   3rd Qu.: 4.80  \n Max.   :2022-09-27   Max.   :166.60   Max.   :31.20  \n                      NA's   :2        NA's   :73     \n\n\n\n\n\nVisualize the data:\n\n# Plot relationship between wind and PM2.5\ndep.data %>%\n  ggplot(aes(avg_wind,avg_pm25)) + geom_point()\n\n\n\n# Transform data\ndep.data <- dep.data %>%\n  mutate(Tavg_pm25=log(avg_pm25),\n         Tavg_wind=log(avg_wind+0.01))\n\n# Plot relationship between wind and PM2.5 after transforming data\ndep.data %>%\n  ggplot(aes(Tavg_wind,Tavg_pm25)) + geom_point()\n\n\n\n\n\n\n\nLinear model fit:\n\n# Fit a linear model to the data\nlm.fit   <- lm(Tavg_pm25~Tavg_wind,data=dep.data)\n\n# Extract fitted values from segment analysis\nlm.fit.df   <- fitted(lm.fit)\n\n# Create dataset with wind and fitted PM2.5 data\nlm.model.df <- data.frame(Tavg_wind=dep.data$Tavg_wind,\n                          fit_pm25=lm.fit.df)\n\n# Plot relationship between wind and PM2.5 after transforming data\n# and add the linear model fit\ndep.data %>%\n  ggplot(aes(Tavg_wind,Tavg_pm25)) +\n  geom_point(size=0.25,alpha=0.5) +\n  geom_line(data=lm.model.df,\n            aes(x=Tavg_wind, y=fit_pm25),\n            size=0.5) +\n  theme_minimal() +\n  labs(x='Avg. wind (log-transformed)',\n       y='Avg. PM 2.5 (log-transformed)')\n\n\n\n\n\n\n\nSegmented model fit:\n\n# Break point analysis\nseg.fit  <- segmented(lm.fit)\n\n# Extract fitted values from segment analysis\nseg.fit.df   <- fitted(seg.fit)\n\n# Create dataset with wind and fitted PM2.5 data\nseg.model.df <- data.frame(Tavg_wind=dep.data$Tavg_wind,\n                           fit_pm25=seg.fit.df)\n\n# Plot relationship between wind and PM2.5 after transforming data\n# and add the segmented model fit\ndep.data %>%\n  ggplot(aes(Tavg_wind,Tavg_pm25)) +\n  geom_point(size=0.25,alpha=0.5) +\n  geom_line(data=seg.model.df,\n            aes(x=Tavg_wind, y=fit_pm25),\n            size=0.5) +\n  theme_minimal() +\n  labs(x='Avg. wind (log-transformed)',\n       y='Avg. PM 2.5 (log-transformed)')"
  },
  {
    "objectID": "slides4.html#about-this-presentation",
    "href": "slides4.html#about-this-presentation",
    "title": "Shiny Apps with R",
    "section": "About this presentation",
    "text": "About this presentation\n\nThis seminar is the third in a series on R programming, with a focus on creating Shiny Apps with R.\nIt is targeted at people that have experience programming in R.\nFocuses on a modern style of programming in R that uses a series of packages known as the Tidyverse.\nSlides are available on Lehighâ€™s Research Computing site and Github (slides and raw code)"
  },
  {
    "objectID": "pm25_plot.html",
    "href": "pm25_plot.html",
    "title": "PM2.5 Plot",
    "section": "",
    "text": "setosaversicolorvirginica"
  },
  {
    "objectID": "pa_data.html",
    "href": "pa_data.html",
    "title": "PurpleAir data",
    "section": "",
    "text": "Import datasets:\n\n\n# Install and load required packages\ninstall.packages('pacman')\npacman::p_load(segmented,dplyr,ggplot2,readr,stringr,tidyr)\n#pacman::p_load(segmented,tidyverse)\n\n# Freemansburg PurpleAir Sensors\nfb1 <- 'https://www.dropbox.com/s/dut6d36p4d5dmc4/fb1_pm25.csv?dl=1'\nfb2 <- 'https://www.dropbox.com/s/gpk1bhfysva91yl/fb2_pm25.csv?dl=1'\nfb3 <- 'https://www.dropbox.com/s/4app080901fsxr8/fb3_pm25.csv?dl=1'\n\nfb1 <- read_csv(fb1)\nfb2 <- read_csv(fb2)\nfb3 <- read_csv(fb3)\n\n# PA DEP data\ndep <- 'https://www.dropbox.com/s/f60llaltcclen47/pa_dep_pm25.csv?dl=1'\ndep <- read_csv(dep)\n\n# Bethlehem PurpleAir Sensors\nmineo <- 'https://www.dropbox.com/s/zo31nf7i0ego63c/MineoSS_pm25.csv?dl=1'\nhtwp1 <- 'https://www.dropbox.com/s/c9tzi72udlzeb2t/HanTwp1_pm25.csv?dl=1'\nhtwp2 <- 'https://www.dropbox.com/s/fwk5yf9cagdnpvh/HanTwp2_pm25.csv?dl=1'\nnbeth <- 'https://www.dropbox.com/s/y5oa40yimsxghri/NorthBeth22_pm25.csv?dl=1'\n\nmineo <- read_csv(mineo)\nhtwp1 <- read_csv(htwp1)\nhtwp2 <- read_csv(htwp2)\nnbeth <- read_csv(nbeth)"
  },
  {
    "objectID": "pa_data2.html",
    "href": "pa_data2.html",
    "title": "Seasonality?",
    "section": "",
    "text": "Import datasets:\n\n\n# Install and load required packages\ninstall.packages('pacman')\npacman::p_load(hydroTSM,segmented,dplyr,ggplot2,readr,stringr,tidyr)\n\n# Download wind and PM2.5 data\nurl1 <- 'https://www.dropbox.com/s/djsrnlou8gfd9h6/pa_dep_wind.csv?dl=1'\nurl2 <- 'https://www.dropbox.com/s/f60llaltcclen47/pa_dep_pm25.csv?dl=1'\nurl3 <- 'https://www.dropbox.com/s/r3y0gmkkib7fas7/pa_dep_temp.csv?dl=1'\n\nwind <- read_csv(url1)\npm25 <- read_csv(url2)\ntemp <- read_csv(url3)"
  }
]